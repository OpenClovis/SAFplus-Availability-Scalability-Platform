/*********************************************************************
* ModuleName  : idl
*********************************************************************/
/*********************************************************************
* Description :Server Stub routines
*     
* THIS FILE IS AUTO-GENERATED BY OPENCLOVIS IDE. EDIT THIS FILE AT
* YOUR OWN RISK. ANY CHANGE TO THIS FILE WILL BE OVERWRITTEN ON
* RE-GENERATION.
*     
*********************************************************************/
#undef __CLIENT__
#define __SERVER__

#include <netinet/in.h>
#include <clBufferApi.h>
#include <clRmdApi.h>
#include <clEoApi.h>
#include <ipi/clRmdIpi.h>
#include <string.h>
#include "ckptClntEockptClntckptClntServer.h"
#include "ckptClntEoServer.h"
#include "ckptClntEoFuncTable.h"

ClHandleDatabaseHandleT  ckptClntEoidlDatabaseHdl = 0;
ClUint32T                ckptClntEoidlSyncKey     = 0;

ClRcT clCkptClntEoIdlSyncDefer(ClIdlHandleT *pIdlHdl)
{
    return clIdlSyncDefer(ckptClntEoidlDatabaseHdl, ckptClntEoidlSyncKey, pIdlHdl);
}    
    
ClRcT clCkptClntEoClientInstall(void)
{
    ClEoExecutionObjT* pEoObj = NULL;
    ClRcT rc = CL_OK;

    rc = clEoMyEoObjectGet(&pEoObj);
    if (CL_OK != rc)
    {
        return rc;
    }

    rc = clEoClientInstallTables(pEoObj,CL_EO_SERVER_SYM_MOD(gAspFuncTable,CkptClntEo));
    if (CL_OK != rc)
    {
        return rc;
    }
    
    rc = clOsalTaskKeyCreate(&ckptClntEoidlSyncKey,NULL);
    if (CL_OK != rc)
    {
        return rc;
    }

    rc = clHandleDatabaseCreate(NULL,&ckptClntEoidlDatabaseHdl);

    return rc;
}

ClRcT clCkptClntEoClientUninstall(void)
{
    ClEoExecutionObjT* pEoObj = NULL;
    ClRcT rc = CL_OK;

    rc = clEoMyEoObjectGet(&pEoObj);
    if (CL_OK != rc)
    {
        return rc;
    }
    rc = clOsalTaskKeyDelete(ckptClntEoidlSyncKey);
    if (CL_OK != rc)
    {
        return rc;
    }
    rc = clHandleDatabaseDestroy(ckptClntEoidlDatabaseHdl);
    if (CL_OK != rc)
    {
        return rc;
    }

    clEoClientUninstallTables(pEoObj,CL_EO_SERVER_SYM_MOD(gAspFuncTable,CkptClntEo));

    return rc;
}

    
