/*********************************************************************
* ModuleName  : idl
*********************************************************************/
/*********************************************************************
* Description : Server Stub routines that need to be implemented
*               by the user.
*     
* THIS FILE IS AUTO-GENERATED BY OPENCLOVIS IDE. EDIT THIS FILE AT
* YOUR OWN RISK. ANY CHANGE TO THIS FILE WILL BE OVERWRITTEN ON
* RE-GENERATION.
*     
*********************************************************************/
#include "clLogApi.h"
#include "alarm_clock_EOAlarmClockopServer.h"
#include <time.h>
#define clprintf(severity, ...)   clAppLog(CL_LOG_HANDLE_APP, severity, 10, "RPC", "CLK", __VA_ARGS__)


ClRcT GetTime_4_0_0(CL_OUT acTimeT_4_0_0*  current)
{
    time_t t = 0;
    struct tm tm = {0};
    time(&t);
    localtime_r(&t, &tm);
	current->hour = tm.tm_hour;
	current->minute = tm.tm_min;
	current->second = tm.tm_sec;
	printf("GetTime_4_0_0 : Called GetTime RPC function : %d:%d:%d \n" ,tm.tm_hour,tm.tm_min,tm.tm_sec);
    return CL_OK;
}    

ClRcT SetTime_4_0_0(CL_IN acTimeT_4_0_0  time)
{
	printf("Called SetTime RPC function: %d:%d:%d", time.hour,time.minute,time.second);
    return CL_OK;
}    

ClRcT SetAlarm_4_0_0(CL_IN alarmReactionT_4_0_0  effect, CL_IN acTimeT_4_0_0  time)
{
	printf("Called SetAlarm RPC function %d:%d:%d effect %d",time.hour,time.minute,time.second,effect);
	return CL_OK;
}    

